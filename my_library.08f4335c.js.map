{"mappings":"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","sources":["src/js/my_library.js"],"sourcesContent":["import { renderMoviesList, renderPaginationButtons } from './render.js';\nimport {\n  WATCHED_KEY,\n  QUEUE_KEY,\n  saveMovieList,\n  loadMovieList,\n} from './storage.js';\nimport {\n  uploadWatchedQueuedMoviesToDB,\n  downloadWatchedQueuedMoviesFromDB,\n  itemAccess,\n} from './db.js';\n\nvar watchedList = [],\n  queueList = [],\n  // allMovies = [],\n  movArray = [],\n  // moviesWatched = [],\n  // moviesQueued = [],\n  watchedActive = true;\nvar m;\n\n// set the values ​​stored in the database in the lists of watched movies and put them in the queue\nasync function setStoredValues() {\n  downloadWatchedQueuedMoviesFromDB();\n  await new Promise(resolve => {\n    setTimeout(() => {\n      resolve(takeItem());\n    }, 1000);\n  });\n}\n\nfunction takeItem() {\n  try {\n    const itemData = itemAccess.data();\n    // console.log(itemData);\n    if (itemData === undefined) {\n      downloadWatchedQueuedMoviesFromDB();\n      initializeLibrary();\n      return;\n    }\n    const itemDataLength = Object.keys(itemData).length;\n    // console.log(itemDataLength);\n    if (\n      itemDataLength === 0 ||\n      itemData.queuedMovies === undefined ||\n      itemData.watchedMovies === undefined\n    ) {\n      initializeLibrary();\n      return;\n    }\n    // const pickedMoviesTextified = itemData.movies;\n    // const pickedMovies = JSON.parse(pickedMoviesTextified);\n    // console.log(pickedMovies);\n    // debugger;\n    // const pickListLength = Object.keys(pickList).length;\n    const queuedMoviesLength = itemData.queuedMovies.length;\n    const watchedMoviesLength = itemData.watchedMovies.length;\n    const watchedMovies = itemData.watchedMovies;\n    const queuedMovies = itemData.queuedMovies;\n    // console.log(queuedMoviesLength);\n    // if (pickListLength === 0) {\n    //   watchedList = [];\n    //   queueList = [];\n    // }\n    // debugger;\n    if (queuedMoviesLength !== 0) {\n      if (queuedMovies !== '[]') {\n        const queuedListText = itemData.queuedMovies[0];\n        queueList = JSON.parse(queuedListText);\n      }\n    }\n    if (watchedMoviesLength !== 0) {\n      if (watchedMovies !== '[]') {\n        const watchedListText = itemData.watchedMovies[0];\n        watchedList = JSON.parse(watchedListText);\n      }\n    }\n    // let moviesWatched = [];\n    // let moviesQueued = [];\n    // pickedMovies.forEach(movie => {\n    //   if (movie.watched === true) {\n    //     moviesWatched.push(movie);\n    //   }\n    //   if (movie.queued === true) {\n    //     moviesQueued.push(movie);\n    //   }\n    // });\n    // allMovies = pickedMovies;\n    // sortMovies(pickedMovies);\n\n    initializeLibrary();\n    console.log(\n      'I found more movies in the watched movies list: ',\n      watchedList,\n      'and in the queued movies list: ',\n      queueList\n    );\n  } catch (error) {\n    console.log(`I couldn't load the data from the database, because: `, error);\n  }\n}\n\nfunction initializeLibrary() {\n  // debugger;\n  // watchedList = loadMovieList(WATCHED_KEY);\n  // queueList = loadMovieList(QUEUE_KEY);\n  setActiveStyles(watchedBtn);\n  const clearBtn = document.querySelector('.clear-btn');\n  clearBtn.innerText = 'CLEAR WATCHED LIST';\n  if (watchedList.length > 0) {\n    renderMoviesList(watchedList);\n  } else {\n    const spanElem = document.querySelector('.error-message');\n    spanElem.innerText = 'Oops! Your \"watched\" library is empty!';\n  }\n  clearBtn.addEventListener('click', clearBtnClick);\n}\n\nfunction clearBtnClick() {\n  if (watchedActive) {\n    console.log('clear watched list');\n    watchedList = [];\n    // saveMovieList(WATCHED_KEY, watchedList);\n    uploadWatchedQueuedMoviesToDB('watched', watchedList);\n  } else {\n    console.log('clear queue list');\n    queueList = [];\n    // saveMovieList(QUEUE_KEY, queueList);\n    uploadWatchedQueuedMoviesToDB('queued', queueList);\n  }\n  const moviesDivElem = document.querySelector('.movies-div');\n  moviesDivElem.innerHTML = '';\n}\nfunction setActiveStyles(element) {\n  element.classList.add('active');\n}\n\nfunction removeActiveStyles(element) {\n  element.classList.remove('active');\n}\n\nfunction watchedBtnClick() {\n  setActiveStyles(watchedBtn);\n  removeActiveStyles(queueBtn);\n  watchedActive = true;\n  const clearBtn = document.querySelector('.clear-btn');\n  clearBtn.innerText = 'CLEAR WATCHED LIST';\n  const spanElem = document.querySelector('.error-message');\n  if (watchedList.length === 0) {\n    spanElem.innerText = 'Oops! Your \"watched\" library is empty!';\n    const moviesDivElem = document.querySelector('.movies-div');\n    moviesDivElem.innerHTML = '';\n    return;\n  } else {\n    spanElem.innerText = '';\n  }\n  renderMoviesList(watchedList);\n}\nfunction queueBtnClick() {\n  setActiveStyles(queueBtn);\n  removeActiveStyles(watchedBtn);\n  watchedActive = false;\n  const clearBtn = document.querySelector('.clear-btn');\n  clearBtn.innerText = 'CLEAR QUEUE LIST';\n  const spanElem = document.querySelector('.error-message');\n  if (queueList.length === 0) {\n    spanElem.innerText = 'Oops! Your \"queue\" library is empty!';\n    const moviesDivElem = document.querySelector('.movies-div');\n    moviesDivElem.innerHTML = '';\n    return;\n  } else {\n    spanElem.innerText = '';\n  }\n\n  renderMoviesList(queueList);\n}\ndocument.addEventListener('DOMContentLoaded', setStoredValues);\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\n\nwatchedBtn.addEventListener('click', watchedBtnClick);\nqueueBtn.addEventListener('click', queueBtnClick);\n\n// modal section\nconst closeModalButton2 = document.getElementById('closeModalBtn2');\nconst backdrop2 = document.querySelector('.bckdrp');\ncloseModalButton2.addEventListener('click', function () {\n  backdrop2.style.display = 'none';\n});\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    backdrop2.style.display = 'none';\n  }\n});\nbackdrop2.addEventListener('click', function (event) {\n  if (event.target === backdrop2) {\n    backdrop2.style.display = 'none';\n  }\n});\n\nconst watchedBtn2 = document.querySelector('.wbtn2');\nconst queueBtn2 = document.querySelector('.qbtn2');\nwatchedBtn2.addEventListener('click', watchedBtnClick2);\nqueueBtn2.addEventListener('click', queueBtnClick2);\n\n//sotingMovies\n// function sortMovies(movies) {\n//   movies.forEach(movie => {\n//     if (movie.watched === true) {\n//       moviesWatched.push(movie);\n//     }\n//     if (movie.queued === true) {\n//       moviesQueued.push(movie);\n//     }\n//   });\n//   watchedList = moviesWatched;\n//   queueList = moviesQueued;\n// }\n//---------------------------------------------------\n\nfunction watchedBtnClick2() {\n  // debugger;\n  if (m.watched) {\n    m.watched = false;\n    watchedBtn2.innerHTML = 'Add to watched';\n    let extractPos = watchedList.findIndex(movie => movie.id === m.id);\n    watchedList.splice(extractPos, 1);\n    // const queuedMoviesLength = queueList.length;\n    // if (queuedMoviesLength === 0) {\n    // const moviePlaced = allMovies.findIndex(movie => movie.id === m.id);\n    // allMovies[moviePlaced].watched = false;\n    // } else {\n    //   const moviePlaced = queueList.findIndex(movie => movie.id === m.id);\n    //   queueList[moviePlaced].watched = false;\n    // }\n    //delete from the queued list if the movie is in both lists\n    queueList.forEach(movieQueued => {\n      if (movieQueued.queued === true && movieQueued.watched === true) {\n        movieQueued.watched = false;\n      }\n    });\n    //-------------------------------------------------------------------\n  } else {\n    watchedBtn2.innerHTML = 'Remove from watched';\n    m.watched = true;\n    // let isOnList = false;\n    // console.log('The list of movies watched is: ', watchedList);\n    // console.log('There are ', watchedList.length, ' movies wached');\n    // if (watchedList.length !== 0) {\n    //   watchedList.forEach(movie => {\n    //     console.log(movie.id);\n    //     console.log(m.id);\n    //     if (m.id === movie.id) {\n    //       movie.watched = true;\n    //       isOnList = true;\n    //       watchedBtn2.innerHTML = 'Remove from watched';\n    //     }\n    //   });\n    // }\n    // if (isOnList === false) {\n    watchedList.push(m);\n    //   watchedBtn2.innerHTML = 'Remove from watched';\n    // }\n  }\n\n  // saveMovieList(WATCHED_KEY, watchedList);\n  // upload the list of watched movies to the firestore database\n  uploadWatchedQueuedMoviesToDB('watched', watchedList);\n  uploadWatchedQueuedMoviesToDB('queued', queueList);\n  //------------------------------------------------------\n  //displays a message if the list is empty\n  if (watchedList.length === 0) {\n    const spanElem = document.querySelector('.error-message');\n    spanElem.innerText = 'Oops! Your \"watched\" library is empty!';\n  }\n  //----------------------------------------------------\n  // sortMovies(watchedList);\n  // sortMovies(queueList);\n  if (watchedActive) {\n    renderMoviesList(watchedList);\n  } else {\n    renderMoviesList(queueList);\n  }\n}\nfunction queueBtnClick2() {\n  if (m.queued) {\n    m.queued = false;\n    queueBtn2.innerHTML = 'Add to queue';\n    let extractPos = queueList.findIndex(movie => movie.id === m.id);\n    queueList.splice(extractPos, 1);\n    // const queuedMoviesLength = queueList.length;\n    // if (queuedMoviesLength === 0) {\n    // const moviePlaced = allMovies.findIndex(movie => movie.id === m.id);\n    // allMovies[moviePlaced].queued = false;\n    // } else {\n    //   const moviePlaced = queueList.findIndex(movie => movie.id === m.id);\n    //   queueList[moviePlaced].queued = false;\n    // }\n    //delete from the watched list if the movie is in both lists\n    watchedList.forEach(movieWatched => {\n      if (movieWatched.queued === true && movieWatched.watched === true) {\n        movieWatched.queued = false;\n      }\n    });\n    //---------------------------------------------------------------------\n  } else {\n    queueBtn2.innerHTML = 'Remove from queue';\n    m.queued = true;\n    // let isOnList = false;\n    // console.log('The list of movies queued is: ', queueList);\n    // console.log('There are ', queueList.length, ' movies in the queue');\n    // if (queueList.length !== 0) {\n    //   queueList.forEach(movie => {\n    //     console.log(movie.id);\n    //     console.log(m.id);\n    //     if (m.id === movie.id) {\n    //       movie.queued = true;\n    //       isOnList = true;\n    //       queueBtn2.innerHTML = 'Remove from queue';\n    //     }\n    //   });\n    // }\n    // if (isOnList === false) {\n    queueList.push(m);\n    //   queueBtn2.innerHTML = 'Remove from queue';\n    // }\n  }\n  // saveMovieList(QUEUE_KEY, queueList);\n  //upload the list of queued movies to the firestore database\n  uploadWatchedQueuedMoviesToDB('queued', queueList);\n  uploadWatchedQueuedMoviesToDB('watched', watchedList);\n  //----------------------------------------------------\n  //displays a message if the list is empty\n  if (queueList.length === 0) {\n    const spanElem = document.querySelector('.error-message');\n    spanElem.innerText = 'Oops! Your \"queue\" library is empty!';\n  }\n  //----------------------------------------------------\n  // sortMovies(watchedList);\n  // sortMovies(queuedList);\n  if (watchedActive) {\n    renderMoviesList(watchedList);\n  } else {\n    renderMoviesList(queueList);\n  }\n}\n// end of modal section\nconst btnsDivElem2 = document.querySelector('.movdiv2');\nbtnsDivElem2.addEventListener('click', showModal2);\n\nfunction showModal2(event) {\n  if (event.target.nodeName !== 'IMG') return;\n  // debugger;\n  // look for the list in which watched or queued is false and I make it true if the movie is in both lists\n  // watchedList.forEach(movieWatched => {\n  //   queueList.forEach(movieQueued => {\n  //     if (movieWatched.id === movieQueued.id) {\n  //       if (movieWatched.queued === true && movieWatched.watched === true) {\n  //         if (movieQueued.queued === true || movieQueued.watched === true) {\n  //           let moviePlaced = queueList.findIndex(\n  //             movie => movie.id === movieWatched.id\n  //           );\n  //           if (queueList[moviePlaced].watched) {\n  //             queueList[moviePlaced].queued = true;\n  //           } else {\n  //             queueList[moviePlaced].watched = true;\n  //           }\n  //         }\n  //       }\n  //       if (movieQueued.queued === true && movieQueued.watched === true) {\n  //         if (movieWatched.queued === true || movieWatched.watched === true) {\n  //           let moviePlaced = watchedList.findIndex(\n  //             movie => movie.id === movieQueued.id\n  //           );\n  //           if (watchedList[moviePlaced].watched) {\n  //             watchedList[moviePlaced].queued = true;\n  //           } else {\n  //             watchedList[moviePlaced].watched = true;\n  //           }\n  //         }\n  //       }\n  //     }\n  //   });\n  // });\n  //----------------------------------------------------------------------\n  if (watchedActive) {\n    movArray = watchedList;\n    // const imgId = event.target.attributes[0].value;\n    // var pos = watchedList.findIndex(movie => imgId - movie.id === 0);\n    // // fill modal content with movie data\n    // const titleElem = document.querySelector('.title-film');\n    // const imgElem = document.querySelector('.movie-poster');\n    // const voteElem = document.querySelector('.vote');\n    // const votesElem = document.querySelector('.votes');\n    // const popularityElem = document.querySelector('.popularity');\n    // const origTitleElem = document.querySelector('.title');\n    // const genresElem = document.querySelector('.genres');\n    // const overviewElem = document.querySelector('.description-text');\n\n    // m = movArray[pos];\n    // titleElem.innerHTML = m.title;\n    // imgElem.src = m.poster_path;\n    // voteElem.innerHTML = m.vote_average;\n    // votesElem.innerHTML = ' / ' + m.vote_count;\n    // popularityElem.innerHTML = m.popularity;\n    // origTitleElem.innerHTML = m.original_title;\n    // genresElem.innerHTML = m.genres;\n    // overviewElem.innerHTML = m.overview;\n\n    // watchedBtn2.innerHTML = 'Add to watched';\n  } else {\n    movArray = queueList;\n    // const imgId = event.target.attributes[0].value;\n    // var pos = queueList.findIndex(movie => imgId - movie.id === 0);\n    // // fill modal content with movie data\n    // const titleElem = document.querySelector('.title-film');\n    // const imgElem = document.querySelector('.movie-poster');\n    // const voteElem = document.querySelector('.vote');\n    // const votesElem = document.querySelector('.votes');\n    // const popularityElem = document.querySelector('.popularity');\n    // const origTitleElem = document.querySelector('.title');\n    // const genresElem = document.querySelector('.genres');\n    // const overviewElem = document.querySelector('.description-text');\n\n    // m = movArray[pos];\n    // titleElem.innerHTML = m.title;\n    // imgElem.src = m.poster_path;\n    // voteElem.innerHTML = m.vote_average;\n    // votesElem.innerHTML = ' / ' + m.vote_count;\n    // popularityElem.innerHTML = m.popularity;\n    // origTitleElem.innerHTML = m.original_title;\n    // genresElem.innerHTML = m.genres;\n    // overviewElem.innerHTML = m.overview;\n  }\n  const imgId = event.target.attributes[0].value;\n  var pos = movArray.findIndex(movie => imgId - movie.id === 0);\n  // fill modal content with movie data\n  const titleElem = document.querySelector('.title-film');\n  const imgElem = document.querySelector('.movie-poster');\n  const voteElem = document.querySelector('.vote');\n  const votesElem = document.querySelector('.votes');\n  const popularityElem = document.querySelector('.popularity');\n  const origTitleElem = document.querySelector('.title');\n  const genresElem = document.querySelector('.genres');\n  const overviewElem = document.querySelector('.description-text');\n\n  m = movArray[pos];\n  titleElem.innerHTML = m.title;\n  imgElem.src = m.poster_path;\n  voteElem.innerHTML = m.vote_average;\n  votesElem.innerHTML = ' / ' + m.vote_count;\n  popularityElem.innerHTML = m.popularity;\n  origTitleElem.innerHTML = m.original_title;\n  genresElem.innerHTML = m.genres;\n  overviewElem.innerHTML = m.overview;\n\n  // queueBtn2.innerHTML = 'Add to queue';\n  if (m.watched) {\n    watchedBtn2.innerHTML = 'Remove from watched';\n  } else {\n    watchedBtn2.innerHTML = 'Add to watched';\n  }\n  if (m.queued) {\n    queueBtn2.innerHTML = 'Remove from queue';\n  } else {\n    queueBtn2.innerHTML = 'Add to queue';\n  }\n\n  // show modal window\n  backdrop2.style.display = 'block';\n}\n"],"names":["$bpxeT","parcelRequire","$1701d53dd42720ad$var$m","$1701d53dd42720ad$var$watchedList","$1701d53dd42720ad$var$queueList","$1701d53dd42720ad$var$movArray","$1701d53dd42720ad$var$watchedActive","$1701d53dd42720ad$var$_setStoredValues","$parcel$interopDefault","$2TvXO","mark","_callee","$7hrFt","downloadWatchedQueuedMoviesFromDB","Promise","resolve","setTimeout","$1701d53dd42720ad$var$takeItem","apply","this","arguments","itemData","itemAccess","data","undefined","$1701d53dd42720ad$var$initializeLibrary","Object","keys","length","queuedMovies","watchedMovies","queuedMoviesLength","watchedMoviesLength","queuedListText","JSON","parse","watchedListText","console","log","error","$1701d53dd42720ad$var$setActiveStyles","$1701d53dd42720ad$var$watchedBtn","clearBtn","document","querySelector","innerText","$lF0Zg","renderMoviesList","addEventListener","$1701d53dd42720ad$var$clearBtnClick","uploadWatchedQueuedMoviesToDB","innerHTML","element","classList","add","$1701d53dd42720ad$var$removeActiveStyles","remove","$1701d53dd42720ad$var$queueBtn","spanElem","$1701d53dd42720ad$var$closeModalButton2","getElementById","$1701d53dd42720ad$var$backdrop2","style","display","event","key","target","$1701d53dd42720ad$var$watchedBtn2","$1701d53dd42720ad$var$queueBtn2","watched","extractPos","findIndex","movie","id","splice","forEach","movieQueued","queued","push","movieWatched","nodeName","imgId","attributes","value","pos","titleElem","imgElem","voteElem","votesElem","popularityElem","origTitleElem","genresElem","overviewElem","title","src","poster_path","vote_average","vote_count","popularity","original_title","genres","overview"],"version":3,"file":"my_library.08f4335c.js.map"}