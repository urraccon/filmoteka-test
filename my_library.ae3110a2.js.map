{"mappings":"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","sources":["src/js/my_library.js"],"sourcesContent":["import { renderMoviesList, renderPaginationButtons } from './render.js';\nimport {\n  WATCHED_KEY,\n  QUEUE_KEY,\n  saveMovieList,\n  loadMovieList,\n} from './storage.js';\nimport {\n  uploadWatchedQueuedMoviesToDB,\n  downloadWatchedQueuedMoviesFromDB,\n  itemAccess,\n} from './db.js';\n\nvar watchedList = [],\n  queueList = [],\n  // allMovies = [],\n  movArray = [],\n  // moviesWatched = [],\n  // moviesQueued = [],\n  watchedActive = true;\nvar m;\n\n// set the values ​​stored in the database in the lists of watched movies and put them in the queue\nasync function setStoredValues() {\n  downloadWatchedQueuedMoviesFromDB();\n  await new Promise(resolve => {\n    setTimeout(() => {\n      resolve(takeItem());\n    }, 1000);\n  });\n}\n\nfunction takeItem() {\n  try {\n    const itemData = itemAccess.data();\n    // console.log(itemData);\n    if (itemData === undefined) {\n      downloadWatchedQueuedMoviesFromDB();\n      initializeLibrary();\n      return;\n    }\n    const itemDataLength = Object.keys(itemData).length;\n    // console.log(itemDataLength);\n    if (\n      itemDataLength === 0 ||\n      itemData.queuedMovies === undefined ||\n      itemData.watchedMovies === undefined\n    ) {\n      initializeLibrary();\n      return;\n    }\n    // const pickedMoviesTextified = itemData.movies;\n    // const pickedMovies = JSON.parse(pickedMoviesTextified);\n    // console.log(pickedMovies);\n    // debugger;\n    // const pickListLength = Object.keys(pickList).length;\n    const queuedMoviesLength = itemData.queuedMovies.length;\n    const watchedMoviesLength = itemData.watchedMovies.length;\n    const watchedMovies = itemData.watchedMovies;\n    const queuedMovies = itemData.queuedMovies;\n    // console.log(queuedMoviesLength);\n    // if (pickListLength === 0) {\n    //   watchedList = [];\n    //   queueList = [];\n    // }\n    // debugger;\n    if (queuedMoviesLength !== 0) {\n      if (queuedMovies !== '[]') {\n        const queuedListText = itemData.queuedMovies[0];\n        queueList = JSON.parse(queuedListText);\n      }\n    }\n    if (watchedMoviesLength !== 0) {\n      if (watchedMovies !== '[]') {\n        const watchedListText = itemData.watchedMovies[0];\n        watchedList = JSON.parse(watchedListText);\n      }\n    }\n    // let moviesWatched = [];\n    // let moviesQueued = [];\n    // pickedMovies.forEach(movie => {\n    //   if (movie.watched === true) {\n    //     moviesWatched.push(movie);\n    //   }\n    //   if (movie.queued === true) {\n    //     moviesQueued.push(movie);\n    //   }\n    // });\n    // allMovies = pickedMovies;\n    // sortMovies(pickedMovies);\n\n    initializeLibrary();\n    console.log(\n      'I found more movies in the watched movies list: ',\n      watchedList,\n      'and in the queued movies list: ',\n      queueList\n    );\n  } catch (error) {\n    console.log(`I couldn't load the data from the database, because: `, error);\n  }\n}\n\nfunction initializeLibrary() {\n  // debugger;\n  // watchedList = loadMovieList(WATCHED_KEY);\n  // queueList = loadMovieList(QUEUE_KEY);\n  setActiveStyles(watchedBtn);\n  const clearBtn = document.querySelector('.clear-btn');\n  clearBtn.innerText = 'CLEAR WATCHED LIST';\n  if (watchedList.length > 0) {\n    renderMoviesList(watchedList);\n  } else {\n    const spanElem = document.querySelector('.error-message');\n    spanElem.innerText = 'Oops! Your \"watched\" library is empty!';\n  }\n  clearBtn.addEventListener('click', clearBtnClick);\n}\n\nfunction clearBtnClick() {\n  if (watchedActive) {\n    console.log('clear watched list');\n    watchedList = [];\n    // saveMovieList(WATCHED_KEY, watchedList);\n    uploadWatchedQueuedMoviesToDB('watched', watchedList);\n  } else {\n    console.log('clear queue list');\n    queueList = [];\n    // saveMovieList(QUEUE_KEY, queueList);\n    uploadWatchedQueuedMoviesToDB('queued', queueList);\n  }\n  const moviesDivElem = document.querySelector('.movies-div');\n  moviesDivElem.innerHTML = '';\n}\nfunction setActiveStyles(element) {\n  element.classList.add('active');\n}\n\nfunction removeActiveStyles(element) {\n  element.classList.remove('active');\n}\n\nfunction watchedBtnClick() {\n  setActiveStyles(watchedBtn);\n  removeActiveStyles(queueBtn);\n  watchedActive = true;\n  const clearBtn = document.querySelector('.clear-btn');\n  clearBtn.innerText = 'CLEAR WATCHED LIST';\n  const spanElem = document.querySelector('.error-message');\n  if (watchedList.length === 0) {\n    spanElem.innerText = 'Oops! Your \"watched\" library is empty!';\n    const moviesDivElem = document.querySelector('.movies-div');\n    moviesDivElem.innerHTML = '';\n    return;\n  } else {\n    spanElem.innerText = '';\n  }\n  renderMoviesList(watchedList);\n}\nfunction queueBtnClick() {\n  setActiveStyles(queueBtn);\n  removeActiveStyles(watchedBtn);\n  watchedActive = false;\n  const clearBtn = document.querySelector('.clear-btn');\n  clearBtn.innerText = 'CLEAR QUEUE LIST';\n  const spanElem = document.querySelector('.error-message');\n  if (queueList.length === 0) {\n    spanElem.innerText = 'Oops! Your \"queue\" library is empty!';\n    const moviesDivElem = document.querySelector('.movies-div');\n    moviesDivElem.innerHTML = '';\n    return;\n  } else {\n    spanElem.innerText = '';\n  }\n\n  renderMoviesList(queueList);\n}\ndocument.addEventListener('DOMContentLoaded', setStoredValues);\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\n\nwatchedBtn.addEventListener('click', watchedBtnClick);\nqueueBtn.addEventListener('click', queueBtnClick);\n\n// modal section\nconst closeModalButton2 = document.getElementById('closeModalBtn2');\nconst backdrop2 = document.querySelector('.bckdrp');\ncloseModalButton2.addEventListener('click', function () {\n  backdrop2.style.display = 'none';\n});\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    backdrop2.style.display = 'none';\n  }\n});\nbackdrop2.addEventListener('click', function (event) {\n  if (event.target === backdrop2) {\n    backdrop2.style.display = 'none';\n  }\n});\n\nconst watchedBtn2 = document.querySelector('.wbtn2');\nconst queueBtn2 = document.querySelector('.qbtn2');\nwatchedBtn2.addEventListener('click', watchedBtnClick2);\nqueueBtn2.addEventListener('click', queueBtnClick2);\n\n//sotingMovies\n// function sortMovies(movies) {\n//   movies.forEach(movie => {\n//     if (movie.watched === true) {\n//       moviesWatched.push(movie);\n//     }\n//     if (movie.queued === true) {\n//       moviesQueued.push(movie);\n//     }\n//   });\n//   watchedList = moviesWatched;\n//   queueList = moviesQueued;\n// }\n//---------------------------------------------------\n\nfunction watchedBtnClick2() {\n  // debugger;\n  if (m.watched) {\n    m.watched = false;\n    watchedBtn2.innerHTML = 'Add to watched';\n    let extractPos = watchedList.findIndex(movie => movie.id === m.id);\n    watchedList.splice(extractPos, 1);\n    // const queuedMoviesLength = queueList.length;\n    // if (queuedMoviesLength === 0) {\n    // const moviePlaced = allMovies.findIndex(movie => movie.id === m.id);\n    // allMovies[moviePlaced].watched = false;\n    // } else {\n    //   const moviePlaced = queueList.findIndex(movie => movie.id === m.id);\n    //   queueList[moviePlaced].watched = false;\n    // }\n    //delete from the queued list if the movie is in both lists\n    queueList.forEach(movieQueued => {\n      if (movieQueued.queued === true && movieQueued.watched === true) {\n        movieQueued.watched = false;\n      }\n    });\n    //-------------------------------------------------------------------\n  } else {\n    watchedBtn2.innerHTML = 'Remove from watched';\n    m.watched = true;\n    // let isOnList = false;\n    // console.log('The list of movies watched is: ', watchedList);\n    // console.log('There are ', watchedList.length, ' movies wached');\n    // if (watchedList.length !== 0) {\n    //   watchedList.forEach(movie => {\n    //     console.log(movie.id);\n    //     console.log(m.id);\n    //     if (m.id === movie.id) {\n    //       movie.watched = true;\n    //       isOnList = true;\n    //       watchedBtn2.innerHTML = 'Remove from watched';\n    //     }\n    //   });\n    // }\n    // if (isOnList === false) {\n    watchedList.push(m);\n    //   watchedBtn2.innerHTML = 'Remove from watched';\n    // }\n  }\n\n  // saveMovieList(WATCHED_KEY, watchedList);\n  // upload the list of watched movies to the firestore database\n  uploadWatchedQueuedMoviesToDB('watched', watchedList);\n  uploadWatchedQueuedMoviesToDB('queued', queueList);\n  //------------------------------------------------------\n  //displays a message if the list is empty\n  if (watchedList.length === 0) {\n    const spanElem = document.querySelector('.error-message');\n    spanElem.innerText = 'Oops! Your \"watched\" library is empty!';\n  }\n  //----------------------------------------------------\n  // sortMovies(watchedList);\n  // sortMovies(queueList);\n  if (watchedActive) {\n    renderMoviesList(watchedList);\n  } else {\n    renderMoviesList(queueList);\n  }\n}\nfunction queueBtnClick2() {\n  if (m.queued) {\n    m.queued = false;\n    queueBtn2.innerHTML = 'Add to queue';\n    let extractPos = queueList.findIndex(movie => movie.id === m.id);\n    queueList.splice(extractPos, 1);\n    // const queuedMoviesLength = queueList.length;\n    // if (queuedMoviesLength === 0) {\n    // const moviePlaced = allMovies.findIndex(movie => movie.id === m.id);\n    // allMovies[moviePlaced].queued = false;\n    // } else {\n    //   const moviePlaced = queueList.findIndex(movie => movie.id === m.id);\n    //   queueList[moviePlaced].queued = false;\n    // }\n    //delete from the watched list if the movie is in both lists\n    watchedList.forEach(movieWatched => {\n      if (movieWatched.queued === true && movieWatched.watched === true) {\n        movieWatched.queued = false;\n      }\n    });\n    //---------------------------------------------------------------------\n  } else {\n    queueBtn2.innerHTML = 'Remove from queue';\n    m.queued = true;\n    // let isOnList = false;\n    // console.log('The list of movies queued is: ', queueList);\n    // console.log('There are ', queueList.length, ' movies in the queue');\n    // if (queueList.length !== 0) {\n    //   queueList.forEach(movie => {\n    //     console.log(movie.id);\n    //     console.log(m.id);\n    //     if (m.id === movie.id) {\n    //       movie.queued = true;\n    //       isOnList = true;\n    //       queueBtn2.innerHTML = 'Remove from queue';\n    //     }\n    //   });\n    // }\n    // if (isOnList === false) {\n    queueList.push(m);\n    //   queueBtn2.innerHTML = 'Remove from queue';\n    // }\n  }\n  // saveMovieList(QUEUE_KEY, queueList);\n  //upload the list of queued movies to the firestore database\n  uploadWatchedQueuedMoviesToDB('queued', queueList);\n  uploadWatchedQueuedMoviesToDB('watched', watchedList);\n  //----------------------------------------------------\n  //displays a message if the list is empty\n  if (queueList.length === 0) {\n    const spanElem = document.querySelector('.error-message');\n    spanElem.innerText = 'Oops! Your \"queue\" library is empty!';\n  }\n  //----------------------------------------------------\n  // sortMovies(watchedList);\n  // sortMovies(queuedList);\n  if (watchedActive) {\n    renderMoviesList(watchedList);\n  } else {\n    renderMoviesList(queueList);\n  }\n}\n// end of modal section\nconst btnsDivElem2 = document.querySelector('.movdiv2');\nbtnsDivElem2.addEventListener('click', showModal2);\n\nfunction showModal2(event) {\n  if (event.target.nodeName !== 'IMG') return;\n  // debugger;\n  // look for the list in which watched or queued is false and I make it true if the movie is in both lists\n  // watchedList.forEach(movieWatched => {\n  //   queueList.forEach(movieQueued => {\n  //     if (movieWatched.id === movieQueued.id) {\n  //       if (movieWatched.queued === true && movieWatched.watched === true) {\n  //         if (movieQueued.queued === true || movieQueued.watched === true) {\n  //           let moviePlaced = queueList.findIndex(\n  //             movie => movie.id === movieWatched.id\n  //           );\n  //           if (queueList[moviePlaced].watched) {\n  //             queueList[moviePlaced].queued = true;\n  //           } else {\n  //             queueList[moviePlaced].watched = true;\n  //           }\n  //         }\n  //       }\n  //       if (movieQueued.queued === true && movieQueued.watched === true) {\n  //         if (movieWatched.queued === true || movieWatched.watched === true) {\n  //           let moviePlaced = watchedList.findIndex(\n  //             movie => movie.id === movieQueued.id\n  //           );\n  //           if (watchedList[moviePlaced].watched) {\n  //             watchedList[moviePlaced].queued = true;\n  //           } else {\n  //             watchedList[moviePlaced].watched = true;\n  //           }\n  //         }\n  //       }\n  //     }\n  //   });\n  // });\n  //----------------------------------------------------------------------\n  if (watchedActive) {\n    movArray = watchedList;\n    // const imgId = event.target.attributes[0].value;\n    // var pos = watchedList.findIndex(movie => imgId - movie.id === 0);\n    // // fill modal content with movie data\n    // const titleElem = document.querySelector('.title-film');\n    // const imgElem = document.querySelector('.movie-poster');\n    // const voteElem = document.querySelector('.vote');\n    // const votesElem = document.querySelector('.votes');\n    // const popularityElem = document.querySelector('.popularity');\n    // const origTitleElem = document.querySelector('.title');\n    // const genresElem = document.querySelector('.genres');\n    // const overviewElem = document.querySelector('.description-text');\n\n    // m = movArray[pos];\n    // titleElem.innerHTML = m.title;\n    // imgElem.src = m.poster_path;\n    // voteElem.innerHTML = m.vote_average;\n    // votesElem.innerHTML = ' / ' + m.vote_count;\n    // popularityElem.innerHTML = m.popularity;\n    // origTitleElem.innerHTML = m.original_title;\n    // genresElem.innerHTML = m.genres;\n    // overviewElem.innerHTML = m.overview;\n\n    // watchedBtn2.innerHTML = 'Add to watched';\n  } else {\n    movArray = queueList;\n    // const imgId = event.target.attributes[0].value;\n    // var pos = queueList.findIndex(movie => imgId - movie.id === 0);\n    // // fill modal content with movie data\n    // const titleElem = document.querySelector('.title-film');\n    // const imgElem = document.querySelector('.movie-poster');\n    // const voteElem = document.querySelector('.vote');\n    // const votesElem = document.querySelector('.votes');\n    // const popularityElem = document.querySelector('.popularity');\n    // const origTitleElem = document.querySelector('.title');\n    // const genresElem = document.querySelector('.genres');\n    // const overviewElem = document.querySelector('.description-text');\n\n    // m = movArray[pos];\n    // titleElem.innerHTML = m.title;\n    // imgElem.src = m.poster_path;\n    // voteElem.innerHTML = m.vote_average;\n    // votesElem.innerHTML = ' / ' + m.vote_count;\n    // popularityElem.innerHTML = m.popularity;\n    // origTitleElem.innerHTML = m.original_title;\n    // genresElem.innerHTML = m.genres;\n    // overviewElem.innerHTML = m.overview;\n  }\n  const imgId = event.target.attributes[0].value;\n  var pos = movArray.findIndex(movie => imgId - movie.id === 0);\n  // fill modal content with movie data\n  const titleElem = document.querySelector('.title-film');\n  const imgElem = document.querySelector('.movie-poster');\n  const voteElem = document.querySelector('.vote');\n  const votesElem = document.querySelector('.votes');\n  const popularityElem = document.querySelector('.popularity');\n  const origTitleElem = document.querySelector('.title');\n  const genresElem = document.querySelector('.genres');\n  const overviewElem = document.querySelector('.description-text');\n\n  m = movArray[pos];\n  titleElem.innerHTML = m.title;\n  imgElem.src = m.poster_path;\n  voteElem.innerHTML = m.vote_average;\n  votesElem.innerHTML = ' / ' + m.vote_count;\n  popularityElem.innerHTML = m.popularity;\n  origTitleElem.innerHTML = m.original_title;\n  genresElem.innerHTML = m.genres;\n  overviewElem.innerHTML = m.overview;\n\n  // queueBtn2.innerHTML = 'Add to queue';\n  if (m.watched) {\n    watchedBtn2.innerHTML = 'Remove from watched';\n  } else {\n    watchedBtn2.innerHTML = 'Add to watched';\n  }\n  if (m.queued) {\n    queueBtn2.innerHTML = 'Remove from queue';\n  } else {\n    queueBtn2.innerHTML = 'Add to queue';\n  }\n\n  // show modal window\n  backdrop2.style.display = 'block';\n}\n"],"names":["$1dkLo","parcelRequire","$558e902e6a5173f7$var$m","$558e902e6a5173f7$var$watchedList","$558e902e6a5173f7$var$queueList","$558e902e6a5173f7$var$movArray","$558e902e6a5173f7$var$watchedActive","$558e902e6a5173f7$var$initializeLibrary","$558e902e6a5173f7$var$setActiveStyles","$558e902e6a5173f7$var$watchedBtn","clearBtn","document","querySelector","innerText","length","renderMoviesList","addEventListener","$558e902e6a5173f7$var$clearBtnClick","console","log","$jPzW1","uploadWatchedQueuedMoviesToDB","innerHTML","element","classList","add","$558e902e6a5173f7$var$removeActiveStyles","remove","async","downloadWatchedQueuedMoviesFromDB","Promise","resolve","setTimeout","itemData","itemAccess","data","undefined","Object","keys","queuedMovies","watchedMovies","queuedMoviesLength","watchedMoviesLength","queuedListText","JSON","parse","watchedListText","error","$558e902e6a5173f7$var$takeItem","$558e902e6a5173f7$var$queueBtn","spanElem","$558e902e6a5173f7$var$closeModalButton2","getElementById","$558e902e6a5173f7$var$backdrop2","style","display","event","key","target","$558e902e6a5173f7$var$watchedBtn2","$558e902e6a5173f7$var$queueBtn2","watched","extractPos","findIndex","movie","id","splice","forEach","movieQueued","queued","push","movieWatched","nodeName","imgId","attributes","value","pos","titleElem","imgElem","voteElem","votesElem","popularityElem","origTitleElem","genresElem","overviewElem","title","src","poster_path","vote_average","vote_count","popularity","original_title","genres","overview"],"version":3,"file":"my_library.ae3110a2.js.map"}